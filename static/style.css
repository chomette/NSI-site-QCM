/* ============================
   Feuille de style principale 
   ============================ */

/*  Réglages couleur  */
:root {
  --bg: #0f172a;      /* bleu nuit */
  --card: #111827;    /* gris très sombre */
  --text: #e5e7eb;    /* gris clair */
  --accent: #22c55e;  /* vert */
  --muted: #9ca3af;   /* gris moyen */
  --danger: #ef4444;  /* rouge */
}

* { box-sizing: border-box; }
html, body { height: 100%; }

/*  FOND lisse */
body{
  margin: 0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif;
  color: var(--text);
  line-height: 1.6;

  /* background couleur */
  background:
    radial-gradient(1200px 800px at 70% -10%, #10182f 0%, #0b1220 60%),
    linear-gradient(160deg, #0b1220 0%, var(--bg) 100%);
  background-attachment: fixed, fixed;
  background-repeat: no-repeat;
  background-color: #0b1220;
}

/* En-tête du site */
.site-header {
  padding: 32px 16px;
  text-align: center;
}
.site-header h1 {
  margin: 0 0 6px 0;
  font-size: 2rem;
}
.subtitle {
  margin: 0;
  color: var(--muted);
}

/* Conteneur central */
.container {
  width: 100%;
  max-width: 900px;
  margin: 0 auto;
  padding: 16px;
}

/* Cartes de contenu */
.card {
  background: var(--card);
  border: 1px solid #1f2937;
  border-radius: 12px;
  padding: 16px;
  margin: 16px 0;
  box-shadow: 0 10px 20px rgba(0,0,0,.25);
}

/* Glass blur sous le contenu (reversible) */
/* Blur uniquement sur les cartes */
.card {
  background: rgba(17, 24, 39, 0.55);
  border: none;
  backdrop-filter: blur(8px) saturate(120%);
  -webkit-backdrop-filter: blur(8px) saturate(120%);
  box-shadow: none;
}

/* Header fond transparent (pas flou) */
.site-header {
  background: transparent;
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
  border: none;
  box-shadow: none;
}

@supports not ((backdrop-filter: blur(8px))) {
  .card, .site-header { background: var(--card); }
}

.alert {
  background: rgba(239, 68, 68, .15);
  border: 1px solid var(--danger);
  color: #fecaca;
  padding: 10px 12px;
  border-radius: 10px;
  margin-bottom: 12px;
}

/* Formulaires  */
.field {
  display: grid;
  gap: 6px;
  margin-bottom: 12px;
}
.field input[type="text"],
.field select {
  padding: 10px 12px;
  border-radius: 10px;
  border: 1px solid #374151;
  background: #0b1020;
  color: var(--text);
}

.q-block {
  border: 1px dashed #334155;
  border-radius: 10px;
  padding: 10px 12px;
  margin: 12px 0;
}
.q-block legend {
  padding: 0 6px;
  color: var(--accent);
  font-weight: 600;
}
.q-block label {
  display: block;
  padding: 6px 0;
}

/* Bloc de la question 5 (affichage conditionnel) */
.os-q[hidden] { display: none !important; }

/* Boutons & actions  */
.actions {
  margin-top: 16px;
  display: flex;
  gap: 12px;
}
button, .btn {
  appearance: none;
  border: none;
  border-radius: 10px;
  padding: 10px 14px;
  background: var(--accent);
  color: #062a12;
  font-weight: 700;
  cursor: pointer;
  text-decoration: none;
  display: inline-block;
}
button:hover, .btn:hover { filter: brightness(1.05); }

/*  Table de correction  */
table.correction {
  width: 100%;
  border-collapse: collapse;
}
table.correction th, table.correction td {
  border-bottom: 1px solid #1f2937;
  padding: 8px 10px;
  text-align: left;
}
table.correction th { color: var(--muted); }
.score { font-size: 2rem; font-weight: 800; }

/*  Pied de page  */
.site-footer {
  text-align: center;
  padding: 24px 16px 40px;
  color: var(--muted);
}

/* Réactivité simple pour mobiles */
@media (max-width: 600px) {
  .site-header h1 { font-size: 1.5rem; }
  .score { font-size: 1.6rem; }
}

/*  Constellation en arrière-plan  */
#net-bg{
  position: fixed;
  inset: 0;
  width: 100vw;
  height: 100vh;
  z-index: -1;           /* derrière tout */
  display: block;
  pointer-events: none;  /* ne bloque pas les clics */
  image-rendering: -webkit-optimize-contrast;
  image-rendering: crisp-edges;
  transform: translateZ(0);
}
/* Contenu au-dessus du canvas */
.site-header, .container, .site-footer, .card { position: relative; z-index: 0; }


/*  Modal personnalisée  */
.modal-backdrop {
  position: fixed;
  inset: 0; /* top:0; right:0; bottom:0; left:0; */
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(2,6,23,0.6); /* sombre translucide */
  z-index: 9999;
  padding: 20px;
}

.modal-box {
  width: 100%;
  max-width: 520px;
  background: var(--card); /* réutilise la variable existante */
  border-radius: 12px;
  padding: 18px;
  border: 1px solid #24303b;
  box-shadow: 0 10px 30px rgba(0,0,0,0.5);
}

.modal-box h3 {
  margin: 0 0 8px;
  color: var(--accent);
  font-size: 1.1rem;
}
.modal-box p { margin: 0 0 14px; color: var(--text); }

.modal-actions {
  display: flex;
  gap: 10px;
  justify-content: flex-end;
}

/* Bouton secondaire */
.btn-secondary {
  background: transparent;
  color: var(--text);
  border: 1px solid #334155;
}

/* Accessibilité : focus visible */
.modal-box button:focus {
  outline: 3px solid rgba(34,197,94,0.25);
  outline-offset: 2px;
}
/* Cache vraiment la modale si [hidden] est présent */
.modal-backdrop[hidden] { display: none !important; }
/* bloquer le scroll quand le body a la classe below-modal */
body.below-modal { overflow: hidden; }
/* === Erreurs inline custom (style "pro")  */
.field.invalid input,
.field.invalid select {
  border-color: #ef4444;
  box-shadow: 0 0 0 2px rgba(239,68,68,.25);
}

.q-block.invalid {
  border-color: #ef4444;
  background: rgba(239,68,68,.06);
}

.error-msg {
  margin-top: 6px;
  color: #fecaca;              /* texte d’erreur doux */
  font-size: 0.95rem;
}

.q-block.invalid legend {
  color: #ef9a9a;
}

/* état "ok" discret si tu veux (optionnel) */
.field.valid input,
.field.valid select {
  border-color: #22c55e;
  box-shadow: 0 0 0 2px rgba(34,197,94,.18);
}
  #net-bg{
      position: fixed;
      inset: 0;
      width: 100vw;
      height: 100vh;
      z-index: -1;          /* derrière tout */
      display: block;
      pointer-events: none; /* ne bloque pas les clics */
    }
    /* s’assure que le contenu est au-dessus */
    .site-header, .container, .site-footer, .card { position: relative; z-index: 0; }

